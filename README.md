# Haar Cascade Classifier（核心算法）

该算法可以分四个阶段进行解释：

1. ### 计算 Haar 特征

   第一步是收集 Haar 特征。 Haar 特征本质上是在检测窗口中特定位置的相邻矩形区域上执行的计算。 该计算涉及对每个区域中的像素强度求和并计算总和之间的差异。 以下是 Haar 功能的一些示例。

2. ### 创建整体图像

   积分图像本质上加快了这些 Haar 特征的计算。 它不是在每个像素上进行计算，而是创建子矩形并为每个子矩形创建数组引用。 然后将这些用于计算 Haar 特征。

   

   需要注意的是，在进行对象检测时，几乎所有的 Haar 特征都无关紧要，因为唯一重要的特征是对象的特征。 但是，我们如何从数十万个 Haar 特征中确定代表对象的最佳特征？ 这就是 Adaboost 发挥作用的地方。

   

3. ### 使用 Adaboost

   Adaboost 本质上是选择最好的特征并训练分类器使用它们。 它使用“弱分类器”的组合来创建算法可以用来检测对象的“强分类器”。

   通过在输入图像上移动一个窗口并为图像的每个子部分计算 Haar 特征来创建弱学习器。 将此差异与将非对象与对象分开的学习阈值进行比较。 因为这些是“弱分类器”，所以需要大量的 Haar 特征才能准确地形成强分类器。

   

   最后一步使用级联分类器将这些弱学习器组合成一个强学习器。

4. ### 实现级联分类器

   级联分类器由一系列阶段组成，每个阶段都是弱学习器的集合。弱学习者是使用 boosting 训练的，这允许从所有弱学习者的平均预测中得到一个高度准确的分类器。

   

   基于这个预测，分类器要么决定指示找到了一个对象（正），要么移动到下一个区域（负）。阶段旨在尽快拒绝负样本，因为大多数窗口不包含任何感兴趣的内容。

   

   最大化低误报率很重要，因为将对象分类为非对象会严重损害您的对象检测算法。下面的视频显示了 Haar 级联的运行情况。红色框表示来自弱学习者的“正面”。

   

   Haar 级联是目前用于对象检测的众多算法之一。关于 Haar 级联需要注意的一点是，降低假阴性率非常重要，因此在训练模型时务必相应地调整超参数。



：LBPH 的第一个计算步骤是通过突出面部特征来创建以更好的方式描述原始图像的中间图像。为此，该算法使用基于参数**radius**和**neighbors**的滑动窗口的概念。





`neighbor`通过将 8 个值与阈值进行比较，以二进制形式创建新值。

对于每个`neighbor`大于阈值的值，对于每个小于阈值的值，该值都设置为 1 和 0 `neighbor`。这形成了一个不包括阈值的二进制数矩阵。矩阵的中心值是通过将二进制数转换为对应于原始图像像素的十进制值来创建的。为了更好地表示原始图像的特征。



每个人对训练数据集中的一张图像做了一个直方图。比较两个直方图以输出与输入图像最接近的直方图匹配的图像。此输出是图像的 ID 或名称。该算法还返回一个**`confidence`**' 测量值，即计算出的距离。算法识别图像的正确性由阈值和阈值自动估计`confidence`。正确性由低于定义阈值的置信度值指示。

> 通过使用相机拍摄图像或拍摄保存的图像，然后在图像中提供唯一标识符或人名，然后将图像添加到数据库中来创建数据集。建议从一个人身上采集许多样本。数据集的一部分用于算法的训练，其余的用于测试。
>
> 使用圆形邻域概念（在选定区域周围采用非整数像素点），将图像中 LBP 代码的出现次数放在一起形成直方图。然后通过计算比较直方图的基本相似度来进行分类。
>
> 该直方图包含三个不同级别的个人描述：在像素级别，标签在一个小区域中组合以创建区域级别，区域直方图组合构建对人的一般描述。





# 缺点：

1. 不在主页面退出的话 nameslist存储会出现错误
2. 在删除用户后，还保留在文件夹中



# 可改进：

1. 捕获数据的时间是否可以依靠硬件加速
2. 是否可以有统一管理人员，统一训练模型